# Micro-Frontend ERP System

**Managed by Antigravity Agent**
**Current Phase**: Phase 4 - Implementation Execution

---

## üöÄ Project Objective

To architect and bootstrap a scalable, enterprise-grade **Micro-Frontend ERP System** using **Angular 21+**, **Nx**, and **native Webpack Module Federation**. The system addresses the need for independent domain deployment, team autonomy, and strict architectural boundaries.

---

## üìê Architecture Overview

- **Pattern**: Monorepo with Shell (Host) + Remote Applications.
- **Tooling**: Nx Workspace (Angular Monorepo Preset).
- **Integration**: Native Webpack Module Federation (No `single-spa`, no `iframes`).
- **Styling**: SCSS.
- **Routing**: Angular Standalone Router (Lazy loading Remotes).

### Domain Boundaries

1.  **Shell**: Orchestration, Layout, Global Auth State.
2.  **Auth (Remote)**: Login, Registration, Session Management.
3.  **Finance (Remote)**: Invoicing, Reporting, Ledgers.
4.  **HR (Remote)**: Employee Management, Payroll.
5.  **Supply (Remote)**: Inventory, Procurement, Vendors.

---

## üõ† Project Requirements (Non-Negotiable)

- **Framework**: Angular 21.0.8+ (Latest Stable).
- **Build System**: Nx 22.3.3+ (Latest Stable).
- **Node.js**: `v20.19.x`, `v22.12.x`, or `v24.x`.
- **Constraint**: **Strict Mode** enabled (TypeScript).
- **Communication**: Remotes **MUST NOT** import from other Remotes. All communication via Shell or Shared Libs.
- **Libs vs Apps**: Apps are thin shells; Business logic lives in `libs/`.

---

## üìä Work Completed (Phases 1-3 Completed)

### Phase 1: Architecture Design ‚úÖ

- [x] Defined Micro-Frontend strategy (Host-Remote).
- [x] Established Domain Boundaries (Auth, Finance, HR, Supply).
- [x] Approved Monorepo structure.

### Phase 2: Workspace Structure ‚úÖ

- [x] Selected **Nx** over plain Angular CLI.
- [x] Defined Directory Structure (`apps/`, `libs/domain/type`).
- [x] Established Naming Conventions (`scope:auth`, `type:feature`).
- [x] Defined Dependency Rules (`type:feature` cannot import `type:app`).

### Phase 3: Technical Preparation ‚úÖ

- [x] Validated Environment (Node 20.19.6, npm 10.8.2).
- [x] Defined **EXACT** commands for implementation (See `.gemini/brain/.../technical-preparation.md`).
- [x] Configured Nx Tags schema.

---

## üöß Current Status & Handover (Phase 4)

The **Nx Workspace** has been initialized.

**Next Immediate Steps for Developer:**

1.  **Configure Shell**: Convert `apps/shell` to Module Federation Host.
2.  **Generate Remotes**: Create `remote-auth`, `remote-finance`, `remote-hr`, `remote-supply`.
3.  **Generate Libraries**: Create `shared/ui`, `shared/utils`, `auth/feature-login`, etc.
4.  **Enforce Boundaries**: Update `nx.json` with dependency constraints.

### üìö Enterprise Documentation

The following documentation serves as the **Single Source of Truth** for this project.

| Document                                               | Description                                                       |
| ------------------------------------------------------ | ----------------------------------------------------------------- |
| [**Architecture Guide**](docs/architecture.md)         | High-level system design, domain boundaries, and ADRs.            |
| [**Workspace Structure**](docs/workspace-structure.md) | Nx Apps/Libs layout, naming conventions, and dependency rules.    |
| [**CI/CD Strategy**](docs/ci-cd.md)                    | Pipeline stages, artifact management, and caching.                |
| [**Deployment Guide**](docs/deployment.md)             | Dynamic remote discovery, versioning, and rollback.               |
| [**Runtime Architecture**](docs/runtime.md)            | Bootstrapping, error handling, and lazy loading flow.             |
| [**Technical Prep**](docs/technical-preparation.md)    | **Exact commands** to bootstrap the environment (Phase 3 output). |
| [**Implementation Plan**](docs/implementation_plan.md) | Original phased execution plan.                                   |
| [**Cheat Sheet**](docs/examples.md)                    | Common CLI commands and code snippets.                            |

---

### Phase 4: Implementation (Active)

**Next Step**: Execute the commands in [Technical Prep](docs/technical-preparation.md) to generate the Remotes.

---

## üíª Running the Project (Future State)

Once Phase 4 is complete:

**Start Shell (Port 4200)**

```bash
nx serve shell
```

**Start Shell + All Remotes**

```bash
nx serve shell --devRemotes=remote-auth,remote-finance,remote-hr,remote-supply
```

---

_Documentation generated by Antigravity on 2026-01-13._
